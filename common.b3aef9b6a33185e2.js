"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[76],{4666:(_,d,s)=>{s.d(d,{D:()=>$});var c=s(1626),n=s(3953),U=s(3587),a=s(9437),i=s(7673),g=s(6354);let $=(()=>{class o{constructor(){this.baseUrl=U.c.baseUrl+"/api/users",this.http=(0,n.WQX)(c.Qq)}registerUser(e){return this.http.post(`${this.baseUrl}/Register`,e).pipe((0,a.W)(t=>(0,i.of)({success:!1,data:{expirationDate:"",token:"",userId:"",roles:[]},errorMessage:t.error.errorMessage||"Unknown error"})))}loginUser(e){return this.http.post(`${this.baseUrl}/Login`,e).pipe((0,a.W)(t=>(0,i.of)({success:!1,data:{expirationDate:"",token:"",roles:[],idUsuario:"",persona:{id:0,nombres:"",apellidoPat:"",apellidoMat:"",fechaNac:"",edad:0,email:"",idTipoDoc:0,nroDoc:"",estado:""},entidad:{id:0,descripcion:"",ruc:"",estado:""},unidadOrganicas:[],aplicaciones:[],mustChangePassword:!1},errorMessage:t.error.errorMessage||"Unknown error"})))}requestTokenPassword(e){return this.http.post(`${this.baseUrl}/RequestTokenToResetPassword`,e).pipe((0,a.W)(t=>(0,i.of)({success:!1,errorMessage:t.error?.errorMessage||"Unknown error"})))}resetPassword(e){return this.http.post(`${this.baseUrl}/ResetPassword`,e)}changePassword(e){return this.http.post(`${this.baseUrl}api/users/changePassword`,e)}getUsersByRoleAll(){return this.http.get(`${this.baseUrl}/GetUsersByRole`)}getUsersByRole(e){return this.http.get(`${this.baseUrl}/GetUsersByRole?role=${e}`)}getUsersByEmail(e){return this.http.get(`${this.baseUrl}/GetUserbyEmail?email=${e}`)}getByIdPersona(e){return this.http.get(`${this.baseUrl}/persona/${e}`)}getById(e){return this.http.get(`${this.baseUrl}/${e}`)}createRole(e){return this.http.post(`${this.baseUrl}/roles/create`,e)}deleteRole(e){return this.http.delete(`${this.baseUrl}/role/remove/:${e}`)}getRoles(){return this.http.get(`${this.baseUrl}/roles`)}grantRoleById(e,t){return this.http.post(`${this.baseUrl}/roles/grant/:${e}`,t)}grantRoleByEmail(e,t){return this.http.post(`${this.baseUrl}/roles/grantByEmail`,t)}rovokeRolesById(e){return this.http.post(`${this.baseUrl}/api/roles/revoke/`,e)}revokeRoleNameById(e,t){return this.http.post(`${this.baseUrl}/role/revoke`,e)}getPaginadoUsuario(e,t,r,b="",l=1,h=10){let p={idEntidad:e,idAplicacion:t,search:b,Page:l,RecordsPerPage:h};return r&&(p.rolId=r),this.http.get(`${this.baseUrl}`,{params:p,observe:"response"}).pipe((0,g.T)(u=>({data:u.body?.data??[],meta:{total:parseInt(u.headers.get("totalrecordsquantity")??"0",10),page:l,pageSize:h}})))}deshabilitarUsuario(e){return this.http.patch(`${this.baseUrl}/${e}/finalize`,null)}habilitarUsuario(e){return this.http.patch(`${this.baseUrl}/${e}/initialize`,null)}forcePasswordChange(e){return this.http.patch(`${this.baseUrl}/${e}/force-password`,{})}static#e=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275prov=n.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]);