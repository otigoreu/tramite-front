"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[68],{3068:(W,d,s)=>{s.r(d),s.d(d,{ResetPasswordComponent:()=>B});var o=s(3953),i=s(9417),m=s(4710),f=s(6806),p=s(980),c=s(2122),E=s(7797),C=s(7355),F=s(6118),l=s(2102),P=s(9631),_=s(5596),u=s(8834),w=s(9213);const h=()=>["/dashboards/dashboard1"];function v(t,r){1&t&&(o.j41(0,"a",6),o.nrm(1,"img",19),o.k0s()),2&t&&o.Y8G("routerLink",o.lJ4(1,h))}function R(t,r){1&t&&(o.j41(0,"a",6),o.nrm(1,"img",20),o.k0s()),2&t&&o.Y8G("routerLink",o.lJ4(1,h))}function M(t,r){1&t&&(o.j41(0,"div",21),o.EFF(1,"Ingresa un email v\xe1lido"),o.k0s())}function k(t,r){1&t&&(o.j41(0,"div",21),o.EFF(1," Email es "),o.j41(2,"strong"),o.EFF(3,"requerido"),o.k0s()())}function b(t,r){if(1&t&&(o.j41(0,"mat-hint",13),o.DNE(1,M,2,0,"div",21)(2,k,4,0,"div",21),o.k0s()),2&t){const e=o.XpG();o.R7$(),o.vxM(e.loginForm.controls.email.hasError("email")&&!e.loginForm.controls.email.hasError("required")?1:-1),o.R7$(),o.vxM(e.loginForm.controls.email.hasError("required")?2:-1)}}function D(t,r){1&t&&(o.j41(0,"div",21),o.EFF(1," Contrase\xf1a debe tener al menos 8 d\xedgitos "),o.k0s())}function j(t,r){1&t&&(o.j41(0,"div",21),o.EFF(1," la nueva Contrase\xf1a es "),o.j41(2,"strong"),o.EFF(3,"requerida"),o.k0s()())}function T(t,r){if(1&t&&(o.j41(0,"mat-hint",13),o.DNE(1,D,2,0,"div",21)(2,j,4,0,"div",21),o.k0s()),2&t){const e=o.XpG();o.R7$(),o.vxM(e.loginForm.controls.newPassword.hasError("minlength")&&!e.loginForm.controls.newPassword.hasError("required")?1:-1),o.R7$(),o.vxM(e.loginForm.controls.newPassword.hasError("required")?2:-1)}}function O(t,r){1&t&&(o.j41(0,"div",21),o.EFF(1," Contrase\xf1a debe tener al menos 8 d\xedgitos "),o.k0s())}function L(t,r){1&t&&(o.j41(0,"div",21),o.EFF(1," la confirmacion e la nueva Contrase\xf1a es "),o.j41(2,"strong"),o.EFF(3,"requerida"),o.k0s()())}function N(t,r){1&t&&(o.j41(0,"mat-error"),o.EFF(1,"Las contrase\xf1as no coinciden"),o.k0s())}function I(t,r){if(1&t&&(o.j41(0,"mat-hint",13),o.DNE(1,O,2,0,"div",21)(2,L,4,0,"div",21)(3,N,2,0,"mat-error"),o.k0s()),2&t){const e=o.XpG();o.R7$(),o.vxM(e.loginForm.controls.confirmNewPassword.hasError("minlength")&&!e.loginForm.controls.confirmNewPassword.hasError("required")?1:-1),o.R7$(),o.vxM(e.loginForm.controls.confirmNewPassword.hasError("required")?2:-1),o.R7$(),o.vxM(e.loginForm.controls.confirmNewPassword.hasError("mismatch")?3:-1)}}function y(t,r){1&t&&o.EFF(0," Cambiar contrase\xf1a ")}function $(t,r){1&t&&o.EFF(0," Procesando\u2026 ")}let B=(()=>{class t{constructor(e,a){this.settings=e,this.route=a,this.hide=!0,this.alignhide=!0,this.options=this.settings.getOptions(),this.router=(0,o.WQX)(m.Ix),this.authService=(0,o.WQX)(C.u),this.notifications=(0,o.WQX)(f.I2),this.loginForm=new i.gE({nombreCompleto:new i.MJ("",[i.k0.required]),email:new i.MJ("",[i.k0.required,i.k0.email]),token:new i.MJ("",[i.k0.required]),newPassword:new i.MJ("",[i.k0.required,i.k0.minLength(8)]),confirmNewPassword:new i.MJ("",[i.k0.required,i.k0.minLength(8)])}),this.token="",this.correo="",this.nombreCompleto="",this.isLoading=!1}ngOnInit(){this.route.queryParams.subscribe(e=>{this.token=e.token,this.correo=e.correo,this.nombreCompleto=e.nombreCompleto,console.log("Token recibido:",this.token),console.log("Correo recibido:",this.correo),console.log("Nombre Completo recibido:",this.nombreCompleto),this.loginForm.patchValue({email:this.correo,token:this.token,nombreCompleto:this.nombreCompleto}),this.loginForm.get("nombreCompleto")?.disable(),this.loginForm.get("email")?.disable()})}changePassword(){this.isLoading=!0;const e={email:this.loginForm.controls.email.value,token:this.loginForm.controls.token.value,newPassword:this.loginForm.controls.newPassword.value,confirmNewPassword:this.loginForm.controls.confirmNewPassword.value};this.authService.resetPassword(e.email,e.token,e.newPassword,e.confirmNewPassword).pipe((0,p.j)(()=>{this.isLoading=!1})).subscribe(a=>{a.success?(this.notifications.set(c.CQ,!0),this.router.navigate(["/login"])):this.notifications.set(c.Jy,!0)})}static#o=this.\u0275fac=function(a){return new(a||t)(o.rXU(F.P),o.rXU(m.nX))};static#t=this.\u0275cmp=o.VBU({type:t,selectors:[["app-reset-password"]],standalone:!0,features:[o.aNF],decls:39,vars:18,consts:[[1,"blank-layout-container","justify-content-center","align-items-center"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],[1,"f-s-14","d-block","mat-body-1","m-t-8","text-center","m-t-30"],[1,"m-t-30",3,"formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["type","text","matInput","","formControlName","nombreCompleto"],["type","email","matInput","","formControlName","email"],[1,"m-b-16","error-msg"],[1,"f-s-14","f-w-600","m-b-12","d-block"],["matInput","",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],[1,"op-5"],["mat-flat-button","","color","primary",1,"w-100",3,"click","disabled"],["src","./assets/images/logos/logo_goreu_text_ligth.png","alt","logo",1,"align-middle","m-2",2,"max-width","60%"],["src","./assets/images/logos/light-logo.svg","alt","logo",1,"align-middle","m-2"],[1,"text-error"]],template:function(a,n){1&a&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"div",5),o.DNE(6,v,2,2,"a",6)(7,R,2,2,"a",6),o.k0s(),o.j41(8,"span",7),o.EFF(9,"RESTABLECER"),o.k0s(),o.j41(10,"form",8)(11,"mat-label",9),o.EFF(12,"Apellidos y Nombre(s)"),o.k0s(),o.j41(13,"mat-form-field",10),o.nrm(14,"input",11),o.k0s(),o.j41(15,"mat-label",9),o.EFF(16,"Correo Electronico"),o.k0s(),o.j41(17,"mat-form-field",10),o.nrm(18,"input",12),o.DNE(19,b,3,2,"mat-hint",13),o.k0s(),o.j41(20,"mat-label",14),o.EFF(21,"Contrase\xf1a"),o.k0s(),o.j41(22,"mat-form-field",10),o.nrm(23,"input",15),o.j41(24,"button",16),o.bIt("click",function(){return n.hide=!n.hide}),o.j41(25,"mat-icon",17),o.EFF(26),o.k0s()(),o.DNE(27,T,3,2,"mat-hint",13),o.k0s(),o.j41(28,"mat-label",14),o.EFF(29,"Confirme Contrase\xf1a"),o.k0s(),o.j41(30,"mat-form-field",10),o.nrm(31,"input",15),o.j41(32,"button",16),o.bIt("click",function(){return n.alignhide=!n.alignhide}),o.j41(33,"mat-icon",17),o.EFF(34),o.k0s()(),o.DNE(35,I,4,3,"mat-hint",13),o.k0s(),o.j41(36,"button",18),o.bIt("click",function(){return n.changePassword()}),o.DNE(37,y,1,0)(38,$,1,0),o.k0s()()()()()()()),2&a&&(o.R7$(6),o.vxM("light"===n.options.theme?6:-1),o.R7$(),o.vxM("dark"===n.options.theme?7:-1),o.R7$(3),o.Y8G("formGroup",n.loginForm),o.R7$(9),o.vxM(n.loginForm.controls.email.touched&&n.loginForm.controls.email.invalid?19:-1),o.R7$(4),o.Y8G("type",n.hide?"password":"text")("formControl",n.loginForm.controls.newPassword),o.R7$(),o.BMQ("aria-label","Hide password")("aria-pressed",n.hide),o.R7$(2),o.JRh(n.hide?"visibility_off":"visibility"),o.R7$(),o.vxM(n.loginForm.controls.newPassword.touched&&n.loginForm.controls.newPassword.invalid?27:-1),o.R7$(4),o.Y8G("type",n.alignhide?"password":"text")("formControl",n.loginForm.controls.confirmNewPassword),o.R7$(),o.BMQ("aria-label","Hide password")("aria-pressed",n.alignhide),o.R7$(2),o.JRh(n.alignhide?"visibility_off":"visibility"),o.R7$(),o.vxM(n.loginForm.controls.confirmNewPassword.touched&&n.loginForm.controls.confirmNewPassword.invalid?35:-1),o.R7$(),o.Y8G("disabled",n.loginForm.invalid||n.isLoading),o.R7$(),o.vxM(n.isLoading?38:37))},dependencies:[m.iI,m.Wk,E.G,l.rl,l.nJ,l.MV,l.TL,l.yw,P.fg,_.RN,_.m2,u.$z,u.iY,w.An,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.l_,i.j4,i.JD],encapsulation:2})}return t})()}}]);